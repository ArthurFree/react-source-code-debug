## getHostSibling
这个函数返回了新插入的DOM节点的基准节点。

React插入节点的时候，分两种情况，新插入的DOM节点在它插入的位置是否已经有兄弟节点，没有，执行`parentInstance.appendChild(child)`，
有，调用`parentInstance.insertBefore(child, beforeChild)`。这个`beforeChild`，就是getHostSibling的返回结果。

举个例子来说：

p为新生成的DOM节点。a为已存在且无变化的DOM节点。它们在fiber树中的位置如下，p需要插入到DOM树中，我们可以根据这棵fiber树
来推断出最终的DOM树形态。
```
                    Fiber树                    DOM树

                   div#root                  div#root
                      |                         |
                    <App/>                     div
                      |                       /   \
                     div                     p     a
                    /   
                   /     
 Placement  -->   p ----> <Child/>
                             |
                             a
  
```
可以看到，在Fiber树中，a是p的父节点的兄弟节点，而在DOM树中，p和a是兄弟节点的关系，p最后要插入到a之前。

按照以上的图示我们来推导一下过程：

**p有兄弟节点`<Child/>`，它有子节点a，a是一个原生DOM节点，并且a已存在于DOM树，那么a作为结果返回，p插入到a之前。**

再来一个例子，p同样也是新插入的节点，h1作为已有节点存在于DOM树中。

```
                      Fiber树           DOM树

                     div#root         div#root
                        |                |
                      <App/>            div
                        |               /  \
                       div             p   h1
                      /   
                     /     
               <Child1/>--><Child2/>
                  |            |
                  |            |
 Placement  --->  p            h1
```
**p没有兄弟节点，往上找到`<Child1/>`，它有兄弟节点`<Child2/>`，`<Child2/>`不是原生DOM节点，找`<Child2/>`的子节点，发现了a，
a是原生DOM节点并且a已存在于DOM树，那么a作为结果返回，p插入到a之前。**

经过两个例子，getHostSibling寻找到新插入节点的兄弟DOM节点的过程可以总结为：
1. 优先查找同级兄弟节点，过滤出原生DOM组件。
2. 过滤不出来查找同级节点的子节点，过滤出原生DOM组件。
3. 重复查找兄弟节点再查找子节点的过程，直到再也找不到兄弟节点。
4. 向上查找到父节点，兄对父节点也重复前三步。
5. 直到过滤出原生DOM节点，判断它如果不是需要插入的节点，那么它作为结果返回，p需要插入到它的前面。

这其中有一个规律：

**`需要插入的节点`如果有同级fiber节点且是原生DOM节点，那么它一定是插入到这个节点之前的。如 果同级节点不是
原生DOM节点，那么它和同级节点的子节点`在DOM层面是兄弟节点`的关系。**

**`需要插入的节点`如果没有同级节点，那么它和父节点的兄弟节点的子节点`在DOM层面是兄弟节点`的关系。**



